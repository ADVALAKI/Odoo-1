<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

<template id="assets_front_editor" inherit_id="website.assets_frontend" name="Website Front Directory Editor">
    <xpath expr="." position="inside">
        <script type="text/javascript" src="/website_business_directory/static/src/js/website_business_directory.editor.front.js"></script>
    </xpath>
</template>

<template id="directory_search" name="Directory Search" page="True">
    <t t-call="website.layout">    
        <div class="container">
            <div class="mt16 mb16">
                <h1 class="text-center">Directory Search</h1>                
                <div name="search_from_container" class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-6">
                        <input type="search" class="form-control" id="search_business_directory" name="search" placeholder="Business name or type"/>
                    </div>
                    <div class="col-md-3"></div>
                </div>     
            </div>
        </div>
    </t>
</template>

<template id="directory_search_results" name="Directory Search Results" page="True">
    <t t-call="website.layout">
        <div class="container">
            <div class="mt16 mb16">
                <div name="search_from_container" class="row">
                    <div class="col-md-3"></div>
                    <div class="col-md-6">
                        <input type="search" class="form-control" id="search_business_directory" name="search" placeholder="Business name or type"/>
                    </div>
                    <div class="col-md-3"></div>
                </div>     
            </div>

            <t t-foreach="directory_companies" t-as="directory_company">
                <div class="panel panel-default">
	            <div class="panel-body">
	                <a t-attf-href="/directory/company/#{ slug(directory_company) }">
	                    <span t-field="directory_company.name"/>
	                </a><br/>
	                <span t-field="directory_company.street"/>, <span t-field="directory_company.city"/>, <span t-field="directory_company.state_id.name"/>, <span t-field="directory_company.zip"/>
	                <t t-if="directory_company.allow_restaurant_booking">
	                    <a t-attf-href="/directory/company/#{ slug(directory_company) }/booking">Make Booking</a>
	                </t>
	                <t t-if="directory_company.menu">
	                    <a t-attf-href="/directory/company/#{ slug(directory_company) }/Menu">Online Menu</a>
	                </t>
	            </div>
                </div>
            </t>
        </div>
    </t>
</template>

<template id="directory_company_page" name="Directory Company Page" page="True">
    <t t-call="website.layout">
        <div class="container">
            <h1><t t-esc="directory_company.name"/></h1>
            <t t-esc="directory_company.directory_description"/>
        </div>
    </t>
</template>

<template id="directory_company_menu" name="Directory Company Page" page="True">
    <t t-call="website.layout">
        <div class="container">
            <h1><t t-esc="directory_company.name"/></h1>
            <t t-foreach="directory_company.menu" t-as="department">
                <t t-field="department.name"/>
                <t t-field="department.description"/>
                <t t-foreach="department.menu_item_ids">
                    <t t-field="name"/>
                    <t t-field="description"/>
                    <t t-field="single_price"/>
                </t>
            </t>
        </div>
    </t>
</template>

<template id="directory_account" name="Directory Account" page="True">
    <t t-call="website.layout">
        <div class="container">
            <h1>My Listings</h1>
            <t foreach="businesses" t-as="business">
                <t t-esc="business.name"/><br/>
            </t>
            <a href="/directory/account/business/add">Add Business</a>
        </div>
    </t>
</template>

<template id="directory_account_business_add" name="Directory Business Add" page="True">
    <t t-call="website.layout">
        <div class="container">
            <h1>Enter Business Info</h1>
            <form method="POST" action="/directory/account/business/add/process" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <div class="form-group">
                    <label for="name">Business Logo*</label>
                    <input type="file" name="logo" required="True"/>
                </div>                
                <div class="form-group">
                    <label for="name">Business Name*</label>
                    <input type="text" name="name" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="email">Business Email*</label>
                    <input type="text" name="email" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="country">Country*</label>
                    <select name="country" class="form-control" required="True">
                        <t t-foreach="countries" t-as="country">
                            <option t-attf-value="#{country.id}"><t t-esc="country.name"/></option>
                        </t>
                    </select>
                </div>
                <div class="form-group">
                    <label for="state">State*</label>
                    <select name="state" class="form-control" required="True">
                        <t t-foreach="states" t-as="state">
                            <option t-attf-value="#{state.id}"><t t-esc="state.name"/></option>
                        </t>
                    </select>
                </div>
                <div class="form-group">
                    <label for="city">City*</label>
                    <input type="text" name="city" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="street">Street Address*</label>
                    <input type="text" name="street" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="zip">Zip*</label>
                    <input type="text" name="zip" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="description">Business Description</label>
                    <input type="text" name="description" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_monday_start">Monday Start Time</label>
                    <input type="text" name="directory_monday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_monday_end">Monday End Time</label>
                    <input type="text" name="directory_monday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_tuesday_start">Monday Start Time</label>
                    <input type="text" name="directory_tuesday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_tuesday_end">Tuesday End Time</label>
                    <input type="text" name="directory_tuesday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_wednesday_start">Wednesday Start Time</label>
                    <input type="text" name="directory_wednesday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_wednesday_end">Wednesday End Time</label>
                    <input type="text" name="directory_wednesday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_thursday_start">Thursday Start Time</label>
                    <input type="text" name="directory_thursday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_thursday_end">Tuesday End Time</label>
                    <input type="text" name="directory_thursday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_friday_start">Friday Start Time</label>
                    <input type="text" name="directory_friday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_friday_end">Friday End Time</label>
                    <input type="text" name="directory_friday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_saturday_start">Saturday Start Time</label>
                    <input type="text" name="directory_saturday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_saturday_end">Saturday End Time</label>
                    <input type="text" name="directory_saturday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_sunday_start">Sunday Start Time</label>
                    <input type="text" name="directory_sunday_start" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_sunday_end">Sunday End Time</label>
                    <input type="text" name="directory_sunday_end" class="form-control"/>
                </div>
                <div class="form-group">
                    <label for="directory_tuesday_start">Monday Start Time</label>
                    <input type="text" name="directory_tuesday_start" class="form-control"/>
                </div>
                <div class="checkbox">
		  <label><input type="checkbox" name="allow_restaurant_booking"/>Allow Restaurant Bookings</label>
                </div>
                <button t-attf-class="btn btn-primary btn-lg">Add Business</button>
            </form>
        </div>
    </t>
</template>

<template id="directory_register" name="Directory Register" page="True">
    <t t-call="website.layout">
        <div class="container">
            <h1>Create an Account</h1>
            <form method="POST" action="/directory/register/process" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <div class="form-group">
                    <label for="name">Name*</label>
                    <input type="text" name="name" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="email">Email*</label>
                    <input type="text" name="email" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="password">Password*</label>
                    <input type="password" name="password" class="form-control" required="True"/>
                </div>
                <button t-attf-class="btn btn-primary btn-lg">Create Account</button>
            </form>
        </div>
    </t>
</template>

<template id="directory_company_booking" name="Directory Company Booking" page="True">
    <t t-call="website.layout">
        <div class="container">
            <h1>Create a Booking</h1>
            <form method="POST" action="/directory/company/booking/process" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <div class="form-group">
                    <label for="booking_name">Booking Name*</label>
                    <input type="text" name="booking_name" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="email">Email*</label>
                    <input type="text" name="email" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="number_of_people">Number of People*</label>
                    <input type="number" name="number_of_people" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="booking_date">Date*</label>
                    <input type="text" name="booking_date" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="booking_time">Time*</label>
                    <input type="text" name="booking_time" class="form-control" required="True"/>
                </div>
                <div class="form-group">
                    <label for="notes">Notes</label>
                    <textarea name="notes" class="form-control"/>
                </div>
                <button t-attf-class="btn btn-primary btn-lg">Create Account</button>
            </form>
        </div>
    </t>
</template>

<template id="directory_categories" name="Directory Search" page="True">
    <t t-call="website.layout">
        <div class="container">
            <div class="mt16 mb16">
                <h1 class="text-center">Directory Categories</h1>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <t t-foreach="directory_categories" t-as="cat">
                            <div class="col-md-3">
                                <t t-call="website_business_directory.directory_categories_reoccursive"/>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </div>
    </t>
</template>

<template id="directory_categories_reoccursive" name="Directory Search Reoccusive" page="True">
  <li>      
      <a href="#" t-field="cat.name"/>
      <ul t-if="cat.children_category_ids" class="nav nav-pills nav-stacked nav-hierarchy">
           <t t-foreach="cat.children_category_ids" t-as="cat">
              <t t-call="website_business_directory.directory_categories_reoccursive"/>
          </t>
      </ul>
  </li>
</template>

</data>
</openerp>
